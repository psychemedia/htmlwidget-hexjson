---
title: "hexjson test"
output:
  html_document: default
  pdf_document: default
  word_document: default
always_allow_html: yes
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# `hexjson` Test

```{r}
library(jsonlite)
library(hexjsonwidget)
jj=fromJSON('./example.hexjson')
hexjsonwidget(jj)
```

```{r}
hexjsonwidget(jsonpath='./example-grid.hexjson')
```

```{r}
hexjsonwidget(jsonpath='./example-grid.hexjson', 
              grid='on', col_gridfill='#113355', col_hexfill='#FF0000')
```

```{r}
jj=fromJSON('./example-grid.hexjson')
hexjsonwidget(jj, grid='off', col_textfill="orange")
```

```{r}
jj=fromJSON('./example-grid.hexjson')
hexjsonwidget(jj, col_hexfill='#bb3388')
```

```{r}
jj=fromJSON('./example-grid.hexjson')
hexjsonwidget(jj,grid="on", col_hexfill='#bb3388',  col_textfill="white")
```


```{r}
#List available data files
hexjsonbasefiles()
```

```{r}
#Use a base datafile
hexjsonwidget(jsonbase="example-grid.hexjson",missinglabel='')
```

```{r}
#Use a base datafile and diasble labels
hexjsonwidget(jsonbase="constituencies.hexjson", labels="off")
```


```{r}
df=data.frame(id=c("Q0R0","Q1R2"),colour=c('orange','#ffddbb'),label=c('','test a'))
hexjsonwidget(jsonbase="example-grid.hexjson",data=df,datacolour='colour')
```

## Screenshot test


```
#via https://github.com/timelyportfolio/exportwidget/blob/master/Readme.md
library(exportwidget)
library(webshot)
library(htmltools)
library(magrittr)

html_print(tagList(
  hexjsonwidget(jj)
  , export_widget( )
  ), viewer=NULL) %>%
  webshot( delay = 3 )
```

